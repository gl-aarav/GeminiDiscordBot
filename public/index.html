<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Discord Bot</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #7289da;
            --secondary-color: #2c2f33;
            --background-color: #23272a;
            --text-color: #ffffff;
            --card-background: #36393f;
            --border-color: #202225;
            --success-color: #43b581;
            --error-color: #f04747;
        }

      body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            background-color: var(--secondary-color);
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        nav ul li {
            margin-left: 2rem;
        }

        nav ul li a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 700;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--primary-color);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        section {
            background-color: var(--card-background);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .bot-status p {
            font-size: 1.1rem;
            margin: 0.5rem 0;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            vertical-align: middle;
        }

        .status-online {
            background-color: var(--success-color);
        }

        .status-offline {
            background-color: var(--error-color);
        }

        .commands-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .command-card {
            background-color: var(--secondary-color);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: transform 0.2s ease;
        }

        .command-card:hover {
            transform: translateY(-5px);
        }

        .command-card h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .command-card p {
            font-size: 0.95rem;
            color: #ccc;
        }

        footer {
        text-align: center;
            padding: 1.5rem 0;
            background-color: var(--secondary-color);
            border-top: 1px solid var(--border-color);
            margin-top: 2rem;
            color: #aaa;
      }
    </style>
  </head>
  <body>
    <header>
        <nav>
            <a href="#" class="logo">Gemini Bot</a>
            <ul>
                <li><a href="#status">Status</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#commands">Commands</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <section id="status" class="bot-status">
            <h2>Bot Status</h2>
            <p>Status: <span id="bot-status"><span class="status-indicator status-offline"></span> Offline</span></p>
            <p>Latency: <span id="bot-latency">N/A</span></p>
            <p>Uptime: <span id="bot-uptime">N/A</span></p>
        </section>

        <section id="about">
            <h2>About Gemini Bot</h2>
            <p>The Gemini Discord Bot is an advanced AI-powered assistant designed to enhance your Discord server experience. Leveraging the power of Google's Gemini AI, it offers a wide range of functionalities from general chat and moderation to fun and utility commands.</p>
            <p>With features like intelligent response generation, comprehensive moderation tools, and interactive commands, Gemini Bot aims to make server management easier and user interaction more engaging. It's built to be flexible and helpful, adapting to your server's needs.</p>
        </section>

        <section id="commands">
            <h2>Commands</h2>
            <div id="commands-list" class="commands-list">
                <!-- Commands will be dynamically loaded here -->
                <div class="command-card">
                    <h3>/help</h3>
                    <p>Shows a list of all available commands.</p>
                </div>
                 <div class="command-card">
                    <h3>/askquestion &lt;question&gt;</h3>
                    <p>Ask AI a question with context.</p>
                </div>
                 <div class="command-card">
                    <h3>!chat &lt;message&gt;</h3>
                    <p>Ask AI via AI (no context).</p>
                </div>
                 <div class="command-card">
                    <h3>/setcontext &lt;text&gt; (Admin)</h3>
                    <p>Update AI response behavior.</p>
                </div>
                <div class="command-card">
                    <h3>/getcontext (Admin)</h3>
                    <p>Get AI context.</p>
                </div>
                <div class="command-card">
                    <h3>/summarize &lt;amount&gt; (Admin)</h3>
                    <p>Summarize recent messages.</p>
                </div>
                <div class="command-card">
                    <h3>/kick &lt;user&gt; [reason] (Admin)</h3>
                    <p>Kick a user.</p>
                </div>
                <div class="command-card">
                    <h3>/ban &lt;user&gt; [reason] (Admin)</h3>
                    <p>Ban a user.</p>
                </div>
                <div class="command-card">
                    <h3>/timeout &lt;user&gt; &lt;duration&gt; (Admin)</h3>
                    <p>Time out a user for a duration.</p>
                </div>
                <div class="command-card">
                    <h3>/untimeout &lt;user&gt; (Admin)</h3>
                    <p>Remove a timeout.</p>
                </div>
                <div class="command-card">
                    <h3>/warn &lt;user&gt; &lt;reason&gt; (Admin)</h3>
                    <p>Warn a user.</p>
                </div>
                <div class="command-card">
                    <h3>/nick &lt;user&gt; &lt;nickname&gt; (Admin)</h3>
                    <p>Change a user's nickname.</p>
                </div>
                <div class="command-card">
                    <h3>/slowmode &lt;duration&gt; (Admin)</h3>
                    <p>Set channel slowmode.</p>
                </div>
                <div class="command-card">
                    <h3>/lock (Admin)</h3>
                    <p>Lock a channel.</p>
                </div>
                <div class="command-card">
                    <h3>/unlock (Admin)</h3>
                    <p>Unlock a channel.</p>
                </div>
                <div class="command-card">
                    <h3>/delete &lt;amount&gt; (Admin)</h3>
                    <p>Delete 1â€“100 recent messages.</p>
                </div>
                <div class="command-card">
                    <h3>/deleteall (Admin)</h3>
                    <p>Purge recent messages.</p>
                </div>
                <div class="command-card">
                    <h3>/addrole &lt;role&gt; &lt;user&gt; (Admin)</h3>
                    <p>Assign a role to a user.</p>
                </div>
                <div class="command-card">
                    <h3>/removerole &lt;role&gt; &lt;user&gt; (Admin)</h3>
                    <p>Remove a role from a user.</p>
                </div>
                <div class="command-card">
                    <h3>/createrole &lt;name&gt; (Admin)</h3>
                    <p>Create a new role.</p>
                </div>
                <div class="command-card">
                    <h3>/deleterole &lt;name&gt; (Admin)</h3>
                    <p>Delete a role.</p>
                </div>
                <div class="command-card">
                    <h3>/renamerole &lt;old&gt; &lt;new&gt; (Admin)</h3>
                    <p>Rename a role.</p>
                </div>
                <div class="command-card">
                    <h3>/createchannel &lt;name&gt; (Admin)</h3>
                    <p>Create a text channel.</p>
                </div>
                <div class="command-card">
                    <h3>/deletechannel &lt;#channel&gt; (Admin)</h3>
                    <p>Delete a text channel.</p>
                </div>
                <div class="command-card">
                    <h3>/createprivatechannel &lt;user&gt; (Admin)</h3>
                    <p>Private channel for a user + Admins.</p>
                </div>
                <div class="command-card">
                    <h3>/senddm &lt;user&gt; &lt;message&gt; (Admin)</h3>
                    <p>Send a DM to a user.</p>
                </div>
                <div class="command-card">
                    <h3>/verify &lt;user&gt; (Admin)</h3>
                    <p>Add the "Students" role to a user.</p>
                </div>
                <div class="command-card">
                    <h3>/ping</h3>
                    <p>Check bot latency.</p>
                </div>
                <div class="command-card">
                    <h3>/userinfo [user]</h3>
                    <p>Display user info.</p>
                </div>
                <div class="command-card">
                    <h3>/serverinfo</h3>
                    <p>Display server info.</p>
                </div>
                <div class="command-card">
                    <h3>/avatar [user]</h3>
                    <p>Get a user's avatar.</p>
                </div>
                <div class="command-card">
                    <h3>/embed &lt;title&gt; &lt;description&gt; [color]</h3>
                    <p>Send a custom embed message.</p>
                </div>
                <div class="command-card">
                    <h3>/poll &lt;question&gt;</h3>
                    <p>Create a yes/no poll.</p>
                </div>
                <div class="command-card">
                    <h3>/8ball &lt;question&gt;</h3>
                    <p>Ask the 8-ball.</p>
                </div>
                <div class="command-card">
                    <h3>/randomfact</h3>
                    <p>Get a random fact.</p>
                </div>
            </div>
        </section>

        <section id="contact">
            <h2>Contact & Support</h2>
            <p>For support, feature requests, or any questions, please join our Discord server: <a href="https://discord.gg/ZJNQQ3YT" target="_blank" style="color: var(--primary-color); font-weight: bold;">https://discord.gg/ZJNQQ3YT</a> or contact us via email at <a href="mailto:gl.aarav@gmail.com" style="color: var(--primary-color);">support@example.com</a>.</p>
            <p>We're always looking to improve Gemini Bot and appreciate your feedback!</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Gemini Discord Bot. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const botStatusSpan = document.getElementById('bot-status');
            const botLatencySpan = document.getElementById('bot-latency');
            const botUptimeSpan = document.getElementById('bot-uptime');
            const commandsListDiv = document.getElementById('commands-list');

            async function fetchBotStatus() {
                try {
                    const response = await fetch('/api/bot-status');
                    const data = await response.json();

                    if (data.status === 'online') {
                        botStatusSpan.innerHTML = `<span class="status-indicator status-online"></span> Online`;
                        botLatencySpan.textContent = `${data.latency}ms`;
                        // Convert uptime from milliseconds to a human-readable format
                        const uptimeSeconds = Math.floor(data.uptime / 1000);
                        const hours = Math.floor(uptimeSeconds / 3600);
                        const minutes = Math.floor((uptimeSeconds % 3600) / 60);
                        const seconds = uptimeSeconds % 60;
                        botUptimeSpan.textContent = `${hours}h ${minutes}m ${seconds}s`;
                    } else {
                        botStatusSpan.innerHTML = `<span class="status-indicator status-offline"></span> Offline`;
                        botLatencySpan.textContent = 'N/A';
                        botUptimeSpan.textContent = 'N/A';
                    }
                } catch (error) {
                    console.error('Error fetching bot status:', error);
                    botStatusSpan.innerHTML = `<span class="status-indicator status-offline"></span> Offline`;
                    botLatencySpan.textContent = 'N/A';
                    botUptimeSpan.textContent = 'N/A';
                }
            }

            async function fetchCommands() {
                try {
                    const response = await fetch('/api/commands');
                    const commands = await response.json();
                    commandsListDiv.innerHTML = ''; // Clear existing static commands

                    commands.forEach(cmd => {
                        const commandCard = document.createElement('div');
                        commandCard.classList.add('command-card');
                        commandCard.innerHTML = `
                            <h3>${cmd.name}</h3>
                            <p>${cmd.description}</p>
                        `;
                        commandsListDiv.appendChild(commandCard);
                    });
                } catch (error) {
                    console.error('Error fetching commands:', error);
                    commandsListDiv.innerHTML = '<p style="color: var(--error-color);">Failed to load commands.</p>';
                }
            }

            fetchBotStatus();
            fetchCommands();
            setInterval(fetchBotStatus, 30000); // Update status every 30 seconds
      });
    </script>
  </body>
</html>
